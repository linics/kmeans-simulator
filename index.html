<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>K-Means äº’åŠ¨è¯¾ä»¶ | Phase 1 Layout</title>
<!-- ===== Styles ===== -->
<style>
  :root {
    color-scheme: light dark;
    --bg-main: #f5f6fa;
    --bg-panel: #ffffff;
    --bg-accent: #eef2ff;
    --text-primary: #1e1e2f;
    --text-secondary: #3d3d52;
    --border-color: #d0d4e4;
    --accent: #4c6ef5;
    --focus-outline: #ff922b;
    --tab-bg: #f0f3ff;
  }

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: "Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, "Microsoft YaHei", sans-serif;
    background: var(--bg-main);
    color: var(--text-primary);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  body:focus-visible {
    outline: none;
  }

  a {
    color: inherit;
  }

  .app-shell {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  header {
    background: var(--bg-panel);
    box-shadow: 0 2px 8px rgba(30, 46, 90, 0.08);
    padding: 1.2rem 1.6rem;
    position: sticky;
    top: 0;
    z-index: 10;
  }

  header h1 {
    margin: 0 0 0.4rem;
    font-size: 1.8rem;
    font-weight: 700;
  }

  .intro-text {
    margin: 0;
    font-size: 0.95rem;
    color: var(--text-secondary);
    line-height: 1.6;
  }

  .usage-banner {
    margin-top: 0.8rem;
    padding: 0.8rem 1rem;
    background: var(--bg-accent);
    border-radius: 12px;
    font-size: 0.9rem;
  }

  .top-controls {
    margin-top: 1.4rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 0.8rem;
  }

  .control-block {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
  }

  .control-block label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-secondary);
  }

  .control-block select,
  .control-block input,
  .control-block button {
    padding: 0.45rem 0.6rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    background: #fff;
    font-size: 0.95rem;
    transition: border 0.2s ease, box-shadow 0.2s ease;
  }

  button.primary {
    background: var(--accent);
    color: #fff;
    border: none;
  }

  button.icon-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    font-weight: 600;
  }

  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 2px solid var(--focus-outline);
    outline-offset: 2px;
  }

  main {
    flex: 1;
    display: grid;
    grid-template-columns: 320px minmax(0, 1fr) 340px;
    gap: 1rem;
    padding: 1rem 1.5rem 1.5rem;
  }

  .panel {
    background: var(--bg-panel);
    border-radius: 16px;
    padding: 1rem;
    box-shadow: 0 4px 18px rgba(30, 46, 90, 0.06);
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .controls-panel {
    overflow-y: auto;
  }

  .canvas-panel {
    display: flex;
    flex-direction: column;
  }

  .canvas-wrapper {
    flex: 1;
    background: linear-gradient(135deg, rgba(76, 110, 245, 0.08), rgba(135, 206, 250, 0.12));
    border-radius: 18px;
    position: relative;
    border: 1px dashed rgba(76, 110, 245, 0.3);
  }

  canvas#cluster-canvas {
    width: 100%;
    height: 100%;
    display: block;
    border-radius: 18px;
  }

  .canvas-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    color: var(--text-secondary);
    font-size: 1rem;
    text-align: center;
    padding: 1rem;
  }

  .metrics-bar {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 0.8rem;
    margin-top: 1rem;
  }

  .metric-card {
    background: var(--tab-bg);
    padding: 0.8rem;
    border-radius: 12px;
    font-size: 0.85rem;
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
  }

  .metric-card strong {
    font-size: 1rem;
  }

  .tabs {
    display: flex;
    border-bottom: 1px solid var(--border-color);
  }

  .tabs button {
    flex: 1;
    background: transparent;
    border: none;
    padding: 0.8rem 0.6rem;
    font-weight: 600;
    cursor: pointer;
    border-bottom: 3px solid transparent;
  }

  .tabs button.active {
    border-bottom-color: var(--accent);
    color: var(--accent);
  }

  .tab-content {
    flex: 1;
  }

  .tab-pane {
    display: none;
  }

  .tab-pane.active {
    display: block;
  }

  .tab-pane section {
    margin-bottom: 1rem;
  }

  .tab-pane h3 {
    margin: 0 0 0.6rem;
    font-size: 1.05rem;
  }

  .tab-pane p,
  .tab-pane ul,
  .tab-pane li {
    font-size: 0.92rem;
    line-height: 1.6;
  }

  .quiz-question {
    border: 1px solid var(--border-color);
    border-radius: 12px;
    padding: 0.9rem;
    margin-bottom: 0.8rem;
  }

  .quiz-question h4 {
    margin: 0 0 0.6rem;
    font-size: 0.98rem;
  }

  .quiz-options {
    display: grid;
    gap: 0.6rem;
  }

  footer {
    margin-top: auto;
    padding: 1rem 1.6rem 1.6rem;
    font-size: 0.85rem;
    color: var(--text-secondary);
  }

  footer .footer-inner {
    background: var(--bg-panel);
    border-radius: 12px;
    padding: 1rem 1.2rem;
    box-shadow: 0 4px 18px rgba(30, 46, 90, 0.04);
  }

  .responsive-note {
    display: none;
    font-size: 0.85rem;
    color: var(--text-secondary);
  }

  @media (max-width: 1200px) {
    main {
      grid-template-columns: 280px minmax(0, 1fr);
      grid-template-rows: auto auto;
    }

    .right-panel {
      grid-column: 1 / -1;
    }
  }

  @media (max-width: 960px) {
    main {
      display: flex;
      flex-direction: column;
    }

    .responsive-note {
      display: block;
      margin-top: 0.6rem;
    }
  }
</style>
</head>
<body>
<div class="app-shell">
  <header>
    <h1>K-Means äº’åŠ¨å®éªŒå®¤ Â· Interactive Lab</h1>
    <p class="intro-text">åˆ†é…â†’æ›´æ–°â†’é‡å¤ï¼šè°ƒæ•´è´¨å¿ƒã€è®©ç°‡å†…æ›´ç´§å¯†ã€‚Assign â†’ Update â†’ Repeat: move centroids to minimize within-cluster variance.</p>
    <div class="usage-banner" role="note">ä½¿ç”¨å¼•å¯¼ / Quick Guideï¼šå…ˆé€‰æ‹©æ•°æ®é›†ä¸ç°‡æ•°ï¼Œç‚¹å‡»â€œè¿è¡Œâ€è§‚å¯Ÿç®—æ³•å¾ªç¯ï¼›éœ€è¦å­¦ä¹ å†…å®¹è¯·åˆ‡æ¢å³ä¾§æ ‡ç­¾é¡µï¼ˆæ¦‚å¿µ / æŒ‡æ ‡ / å°æµ‹ / å¤±æ•ˆåœºæ™¯ï¼‰ã€‚</div>
    <div class="responsive-note">ğŸ“± æ¨ªå±ä½“éªŒæ›´ä½³ Â· Landscape mode recommended for tablets.</div>
    <div class="top-controls" aria-label="top quick controls">
      <div class="control-block" aria-label="dataset selector">
        <label for="dataset-select">æ•°æ®é›† Dataset</label>
        <select id="dataset-select" aria-label="é€‰æ‹©æ•°æ®é›† Select dataset">
          <option value="blobs">é«˜æ–¯å›¢ Blobs</option>
          <option value="moons">åŒæœˆç‰™ Moons</option>
          <option value="circles">åŒå¿ƒç¯ Circles</option>
          <option value="grid">ç½‘æ ¼ Grid</option>
          <option value="custom">è‡ªå®šä¹‰ Custom</option>
        </select>
      </div>
      <div class="control-block" aria-label="cluster count">
        <label for="k-slider">ç°‡æ•° k</label>
        <input id="k-slider" type="range" min="1" max="10" value="3" aria-label="ç°‡æ•° K slider" />
        <input id="k-number" type="number" min="1" max="10" value="3" aria-label="ç°‡æ•° K æ•°å­—" />
      </div>
      <div class="control-block" aria-label="initialization method">
        <label for="init-select">åˆå§‹åŒ– Initialization</label>
        <select id="init-select" aria-label="é€‰æ‹©åˆå§‹åŒ–æ–¹å¼">
          <option value="random">éšæœº Random</option>
          <option value="kpp">k-means++</option>
          <option value="manual">æ‰‹åŠ¨ Manual</option>
        </select>
      </div>
      <div class="control-block" aria-label="run controls">
        <label>è¿è¡Œæ§åˆ¶ Run Controls</label>
        <div style="display:flex; gap:0.4rem; flex-wrap:wrap;">
          <button type="button" class="icon-btn primary" aria-label="è¿è¡Œ Run">â–¶ Run</button>
          <button type="button" class="icon-btn" aria-label="æš‚åœ Pause">â¸ Pause</button>
          <button type="button" class="icon-btn" aria-label="å•æ­¥ Step">â­ Step</button>
          <button type="button" class="icon-btn" aria-label="é‡ç½® Reset">â†º Reset</button>
        </div>
      </div>
      <div class="control-block" aria-label="seed control">
        <label for="seed-input">éšæœºç§å­ Seed</label>
        <div style="display:flex; gap:0.4rem;">
          <input id="seed-input" type="number" value="42" aria-label="éšæœºç§å­è¾“å…¥ Seed input" />
          <button type="button" class="icon-btn" aria-label="éšæœºéª°å­ Randomize">ğŸ²</button>
        </div>
      </div>
      <div class="control-block" aria-label="speed control">
        <label for="speed-range">åŠ¨ç”»é€Ÿåº¦ Speed</label>
        <input id="speed-range" type="range" min="0" max="100" value="60" aria-label="åŠ¨ç”»é€Ÿåº¦ slider" />
      </div>
      <div class="control-block" aria-label="help buttons">
        <label>å¸®åŠ© Help</label>
        <div style="display:flex; gap:0.4rem; flex-wrap:wrap;">
          <button type="button" class="icon-btn" aria-label="å¸®åŠ©è¯´æ˜ Help">â“ Help</button>
          <button type="button" class="icon-btn" aria-label="æ¢å¤é»˜è®¤ Reset defaults">ğŸ§¹ Reset Defaults</button>
        </div>
      </div>
    </div>
  </header>
  <main>
    <aside class="panel controls-panel" aria-label="è¯¦ç»†æ§åˆ¶é¢æ¿ Detailed controls">
      <section>
        <h2>å‚æ•°è°ƒèŠ‚ Parameters</h2>
        <div class="control-block">
          <label for="distance-select">è·ç¦» Distance</label>
          <select id="distance-select" aria-label="é€‰æ‹©è·ç¦»åº¦é‡">
            <option value="euclidean">æ¬§æ° Euclidean</option>
            <option value="manhattan">æ›¼å“ˆé¡¿ Manhattan</option>
          </select>
        </div>
        <div class="control-block">
          <label for="max-iter">æœ€å¤§è¿­ä»£ Max Iterations</label>
          <input id="max-iter" type="number" value="50" min="1" aria-label="æœ€å¤§è¿­ä»£æ¬¡æ•°" />
        </div>
        <div class="control-block">
          <label for="point-count">ç‚¹æ•°é‡ Point Count</label>
          <input id="point-count" type="number" value="600" min="10" max="3000" aria-label="ç‚¹æ•°é‡" />
        </div>
        <div class="control-block">
          <label for="noise-slider">å™ªå£° Noise Ratio</label>
          <input id="noise-slider" type="range" min="0" max="0.3" step="0.01" value="0.05" aria-label="å™ªå£°æ¯”ä¾‹" />
        </div>
        <fieldset style="border:1px solid var(--border-color); border-radius:12px; padding:0.8rem;">
          <legend>å¯é€‰è§†å›¾ Options</legend>
          <label><input type="checkbox" id="show-voronoi" /> æ˜¾ç¤º Voronoi / Show Voronoi</label><br />
          <label><input type="checkbox" id="show-trails" checked /> è´¨å¿ƒè½¨è¿¹ / Show Trails</label><br />
          <label><input type="checkbox" id="show-labels" /> æ ‡ç­¾ / Labels</label><br />
          <label><input type="checkbox" id="show-heat" /> çƒ­åŠ›èƒŒæ™¯ / Heatmap</label>
        </fieldset>
        <fieldset style="border:1px solid var(--border-color); border-radius:12px; padding:0.8rem;">
          <legend>æ•°æ®å¤„ç† Data Prep</legend>
          <label><input type="checkbox" id="toggle-standardize" /> æ ‡å‡†åŒ– / Standardize</label><br />
          <label><input type="checkbox" id="toggle-outliers" /> åŠ å…¥ç¦»ç¾¤ç‚¹ / Add Outliers</label>
        </fieldset>
      </section>
      <section>
        <h2>å¯¼å…¥å¯¼å‡º Import & Export</h2>
        <div class="control-block">
          <label for="csv-input">CSV æ•°æ®ç²˜è´´åŒº Paste CSV</label>
          <textarea id="csv-input" rows="6" aria-label="CSV è¾“å…¥åŒºåŸŸ"></textarea>
        </div>
        <div style="display:flex; gap:0.6rem; flex-wrap:wrap;">
          <button type="button" class="icon-btn" aria-label="å¯¼å…¥ CSV">â¬† Import</button>
          <button type="button" class="icon-btn" aria-label="å¯¼å‡º PNG">â¬‡ Export PNG</button>
          <button type="button" class="icon-btn" aria-label="å¯¼å‡ºå‚æ•° JSON">{} Export JSON</button>
        </div>
        <p class="hint-text" aria-live="polite">ç¤ºä¾‹ï¼šx,y\n1,2\n3,4</p>
      </section>
      <section>
        <h2>AB å¿«ç…§ AB Snapshots</h2>
        <div class="snapshot-grid" aria-label="å¿«ç…§åˆ—è¡¨">
          <div class="snapshot-placeholder" role="group" aria-label="å¿«ç…§æ§½ä½ snapshot slot">ç©º Empty</div>
          <div class="snapshot-placeholder" role="group" aria-label="å¿«ç…§æ§½ä½ snapshot slot">ç©º Empty</div>
          <div class="snapshot-placeholder" role="group" aria-label="å¿«ç…§æ§½ä½ snapshot slot">ç©º Empty</div>
        </div>
        <button type="button" class="icon-btn" aria-label="æ‹æ‘„å½“å‰çŠ¶æ€ Save snapshot">ğŸ“¸ Save Snapshot</button>
      </section>
    </aside>
    <section class="panel canvas-panel" aria-label="ä¸»å¯è§†åŒ–åŒºåŸŸ Main visualization">
      <div class="canvas-header" style="display:flex; justify-content:space-between; align-items:center;">
        <div>
          <h2 style="margin:0; font-size:1.3rem;">èšç±»ç”»å¸ƒ Cluster Canvas</h2>
          <p style="margin:0; font-size:0.9rem; color:var(--text-secondary);">æ‹–æ‹½è´¨å¿ƒã€è§‚å¯Ÿåˆ†é…ï¼›Drag centroids and inspect assignments.</p>
        </div>
        <div class="status-chips" style="display:flex; gap:0.4rem; flex-wrap:wrap;">
          <span class="chip" aria-label="çŠ¶æ€">çŠ¶æ€ï¼šå¾…åˆå§‹åŒ– Â· Ready</span>
          <span class="chip" aria-label="æ”¶æ•›çŠ¶æ€">æ”¶æ•› Convergenceï¼š--</span>
        </div>
      </div>
      <div class="canvas-wrapper" role="presentation">
        <canvas id="cluster-canvas" width="900" height="600" aria-label="k-means å¯è§†åŒ–ç”»å¸ƒ"></canvas>
        <div class="canvas-overlay">Phase 1ï¼šæ­¤å¤„å±•ç¤ºæ•°æ®ç‚¹ä¸è´¨å¿ƒã€‚Phase 1: Visualization canvas placeholder.</div>
      </div>
      <div class="metrics-bar" aria-label="å®æ—¶æŒ‡æ ‡">
        <div class="metric-card" role="status">
          <span>SSE æ€»å’Œ</span>
          <strong id="metric-sse">--</strong>
          <small>ç°‡å†…å¹³æ–¹å’Œ Sum of Squared Errors</small>
        </div>
        <div class="metric-card" role="status">
          <span>è½®å»“ç³»æ•° Silhouette</span>
          <strong id="metric-silhouette">--</strong>
          <small>æŠ½æ ·ä¼°è®¡ Sampled estimation</small>
        </div>
        <div class="metric-card" role="status">
          <span>è¿­ä»£ Iteration</span>
          <strong id="metric-iteration">0</strong>
          <small>æœ€å¤§è¿­ä»£é˜ˆå€¼ Max: 300</small>
        </div>
      </div>
      <div class="mini-charts" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap:0.8rem;">
        <div class="mini-chart" style="background:var(--tab-bg); border-radius:12px; padding:0.8rem;">
          <h3 style="margin:0 0 0.4rem; font-size:0.95rem;">æŸå¤±æ›²çº¿ Loss Curve</h3>
          <div class="chart-placeholder" style="height:120px; border:1px dashed var(--border-color); border-radius:10px; display:flex; align-items:center; justify-content:center; color:var(--text-secondary);">Mini Canvas</div>
        </div>
        <div class="mini-chart" style="background:var(--tab-bg); border-radius:12px; padding:0.8rem;">
          <h3 style="margin:0 0 0.4rem; font-size:0.95rem;">è‚˜éƒ¨æ³• Elbow</h3>
          <div class="chart-placeholder" style="height:120px; border:1px dashed var(--border-color); border-radius:10px; display:flex; align-items:center; justify-content:center; color:var(--text-secondary);">Mini Canvas</div>
        </div>
        <div class="mini-chart" style="background:var(--tab-bg); border-radius:12px; padding:0.8rem;">
          <h3 style="margin:0 0 0.4rem; font-size:0.95rem;">è½®å»“åˆ†å¸ƒ Silhouette</h3>
          <div class="chart-placeholder" style="height:120px; border:1px dashed var(--border-color); border-radius:10px; display:flex; align-items:center; justify-content:center; color:var(--text-secondary);">Mini Canvas</div>
        </div>
      </div>
    </section>
    <aside class="panel right-panel" aria-label="å­¦ä¹ ä¸ä¿¡æ¯é¢æ¿ Learning panel">
      <div class="tabs" role="tablist">
        <button class="active" role="tab" aria-selected="true" aria-controls="tab-concept" id="tab-btn-concept">æ¦‚å¿µ Concept</button>
        <button role="tab" aria-controls="tab-metrics" id="tab-btn-metrics">æŒ‡æ ‡ Metrics</button>
        <button role="tab" aria-controls="tab-quiz" id="tab-btn-quiz">å°æµ‹ Quiz</button>
        <button role="tab" aria-controls="tab-fail" id="tab-btn-fail">å¤±æ•ˆ Failure Cases</button>
      </div>
      <div class="tab-content">
        <div class="tab-pane active" id="tab-concept" role="tabpanel" aria-labelledby="tab-btn-concept">
          <section>
            <h3>ç®—æ³•æµç¨‹ Algorithm Loop</h3>
            <p>1. éšæœºåˆå§‹åŒ–è´¨å¿ƒã€‚2. å°†ç‚¹åˆ†é…åˆ°æœ€è¿‘è´¨å¿ƒã€‚3. æ›´æ–°è´¨å¿ƒä½ç½®ã€‚4. é‡å¤ç›´è‡³æ”¶æ•›ã€‚</p>
            <p>1. Initialize centroids. 2. Assign points to nearest centroid. 3. Update centroid mean. 4. Repeat until convergence.</p>
          </section>
          <section>
            <h3>é€‚ç”¨åœºæ™¯ Use Cases</h3>
            <ul>
              <li>ç°‡è¿‘ä¼¼çƒå½¢ã€‚Roughly spherical clusters.</li>
              <li>éœ€è¦å¿«é€ŸåŸå‹èšç±»ã€‚Rapid prototyping.</li>
            </ul>
          </section>
          <section>
            <h3>å±€é™æ€§ Limitations</h3>
            <ul>
              <li>å¯¹åˆå§‹å€¼æ•æ„Ÿã€‚Sensitive to initialization.</li>
              <li>ä¸é€‚åˆéå‡¸ç°‡ã€‚Not ideal for non-convex shapes.</li>
              <li>ç¦»ç¾¤ç‚¹å½±å“æ˜¾è‘—ã€‚Outliers can skew centroids.</li>
            </ul>
          </section>
        </div>
        <div class="tab-pane" id="tab-metrics" role="tabpanel" aria-labelledby="tab-btn-metrics">
          <section>
            <h3>SSE ç°‡å†…å¹³æ–¹å’Œ</h3>
            <p>åº¦é‡æ¯ä¸ªç°‡å†…æ ·æœ¬ä¸è´¨å¿ƒçš„å¹³æ–¹è·ç¦»ä¹‹å’Œã€‚å€¼è¶Šå°ï¼Œèšç±»è¶Šç´§å‡‘ã€‚Measures total squared distance of points to centroid within each cluster.</p>
          </section>
          <section>
            <h3>Silhouette è½®å»“ç³»æ•°</h3>
            <p>å•ç‚¹æŒ‡æ ‡ï¼š(b - a) / max(a, b)ã€‚a ä¸ºç°‡å†…å¹³å‡è·ç¦»ï¼Œb ä¸ºæœ€è¿‘å…¶ä»–ç°‡å¹³å‡è·ç¦»ã€‚Average silhouette æè¿°ç°‡æ˜¯å¦æ¸…æ™°ã€‚</p>
          </section>
          <section>
            <h3>è‚˜éƒ¨æ³• Elbow Method</h3>
            <p>ç»˜åˆ¶ä¸åŒ k çš„ SSEï¼Œå¯»æ‰¾ä¸‹é™å¹…åº¦è½¬æŠ˜ç‚¹ã€‚Plot SSE vs k to find point of diminishing returns.</p>
          </section>
        </div>
        <div class="tab-pane" id="tab-quiz" role="tabpanel" aria-labelledby="tab-btn-quiz">
          <section>
            <h3>çŸ¥è¯†å°æµ‹ Quiz</h3>
            <div class="quiz-question">
              <h4>Q1: è‚˜éƒ¨æ³•å»ºè®®çš„ k å€¼é€šå¸¸å¯¹åº”å“ªé‡Œï¼ŸWhere is elbow located?</h4>
              <div class="quiz-options" role="group" aria-label="é€‰é¡¹ Options">
                <label><input type="radio" name="quiz-q1" /> åœ¨ä¸‹é™æ›²çº¿çš„æ‹ç‚¹ At the elbow point.</label>
                <label><input type="radio" name="quiz-q1" /> æœ€å¤§çš„ k å€¼ Largest k.</label>
                <label><input type="radio" name="quiz-q1" /> æ›²çº¿èµ·ç‚¹ Curve start.</label>
              </div>
            </div>
            <div class="quiz-question">
              <h4>Q2: æ ‡å‡†åŒ–çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸWhy standardize?</h4>
              <div class="quiz-options" role="group">
                <label><input type="radio" name="quiz-q2" /> æ¶ˆé™¤é‡çº²å½±å“ Remove scale bias.</label>
                <label><input type="radio" name="quiz-q2" /> å¢åŠ å™ªå£° Increase noise.</label>
                <label><input type="radio" name="quiz-q2" /> å‡å°‘æ ·æœ¬æ•°é‡ Reduce samples.</label>
              </div>
            </div>
            <div class="quiz-question">
              <h4>Q3: å¯¹â€œMoonsâ€æ•°æ®ï¼Œk-means è¡¨ç°å¦‚ä½•ï¼ŸHow does k-means perform on moons?</h4>
              <div class="quiz-options" role="group">
                <label><input type="radio" name="quiz-q3" /> æ•ˆæœè¾ƒå·®ï¼Œç°‡éå‡¸ Poor due to non-convex clusters.</label>
                <label><input type="radio" name="quiz-q3" /> éå¸¸å¥½ Very good.</label>
                <label><input type="radio" name="quiz-q3" /> æ— æ³•è¿è¡Œ Cannot run.</label>
              </div>
            </div>
            <div class="quiz-question">
              <h4>Q4: è½®å»“ç³»æ•°æ¥è¿‘ -1 è¡¨ç¤ºä»€ä¹ˆï¼ŸWhat does silhouette near -1 mean?</h4>
              <div class="quiz-options" role="group">
                <label><input type="radio" name="quiz-q4" /> æ ·æœ¬æ›´æ¥è¿‘å…¶ä»–ç°‡ Point closer to other cluster.</label>
                <label><input type="radio" name="quiz-q4" /> èšç±»å®Œç¾ Perfect clustering.</label>
                <label><input type="radio" name="quiz-q4" /> æ ·æœ¬å­¤ç«‹ Isolated point.</label>
              </div>
            </div>
            <button type="button" class="primary" aria-label="æäº¤æµ‹éªŒ Submit quiz">æäº¤ Submit</button>
            <button type="button" aria-label="é‡æ–°ä½œç­” Retake">é‡æ–°ä½œç­” Retake</button>
          </section>
        </div>
        <div class="tab-pane" id="tab-fail" role="tabpanel" aria-labelledby="tab-btn-fail">
          <section>
            <h3>ä½•æ—¶å¤±æ•ˆ When It Fails</h3>
            <ul>
              <li>éå‡¸æ•°æ®ï¼ˆå¦‚ Moonsï¼‰ã€‚Non-convex data (Moons).</li>
              <li>ç°‡å¯†åº¦å·®å¼‚å¤§ã€‚Different densities.</li>
              <li>ç¦»ç¾¤ç‚¹è¿‡å¤šã€‚Too many outliers.</li>
            </ul>
          </section>
          <section>
            <h3>å®è·µå»ºè®® Practical Tips</h3>
            <ul>
              <li>å°è¯•å¤šä¸ªéšæœºç§å­ã€‚Try multiple seeds.</li>
              <li>ç»“åˆé¢†åŸŸçŸ¥è¯†ã€‚Align with domain knowledge.</li>
            </ul>
          </section>
        </div>
      </div>
    </aside>
  </main>
  <section class="panel" style="margin:0 1.5rem 1.5rem;" aria-label="å­¦ä¹ æ€»ç»“åŒºåŸŸ Summary">
    <h2>å­¦ä¹ æ€»ç»“ Summary</h2>
    <p>ä¸€é”®ç”Ÿæˆå­¦ä¹ æ€»ç»“ï¼ˆåç»­é˜¶æ®µå®ç°ï¼‰ã€‚Generate learning summary (to be implemented in later phase).</p>
    <div style="display:flex; gap:0.6rem; flex-wrap:wrap;">
      <button type="button" class="icon-btn" aria-label="ç”Ÿæˆæ€»ç»“ Generate summary">ğŸ“ Generate Summary</button>
      <button type="button" class="icon-btn" aria-label="å¤åˆ¶æ€»ç»“ Copy summary">ğŸ“‹ Copy</button>
      <button type="button" class="icon-btn" aria-label="ä¸‹è½½æ€»ç»“ Download summary">ğŸ’¾ Download</button>
    </div>
    <textarea id="summary-output" rows="4" aria-label="æ€»ç»“è¾“å‡ºåŒºåŸŸ" placeholder="æ€»ç»“æ–‡æœ¬å°†åœ¨åç»­é˜¶æ®µç”Ÿæˆ..."></textarea>
  </section>
  <footer>
    <div class="footer-inner">
      <p>Â© 2025 K-Means Interactive Lesson Â· ä½œè€… Author: OpenAI åŠ©æ‰‹ Â· æ›´æ–°æ—¥æœŸ Updated: Phase 1</p>
      <p>é”®ç›˜å¿«æ·é”®ï¼šSpace è¿è¡Œ/æš‚åœ Â· S å•æ­¥ Â· R é‡ç½® Â· K èšç„¦ k æ»‘å— Â· H å¸®åŠ© (å°†åœ¨åç»­é˜¶æ®µå®ç°)ã€‚Keyboard shortcuts will be activated in future phases.</p>
    </div>
  </footer>
</div>
<!-- ===== HTML Markup ===== -->
<!-- ===== App State & Utils ===== -->
<!-- Phase 1: JS logic will be added in later phases. -->
<!-- ===== App.init() ===== -->
<script>
  // Phase 1 placeholder module for future initialization.
  const KMeansApp = (() => {
    function init() {
      // Placeholder: real logic will be implemented in Phase 2 and Phase 3.
      console.info("K-Means Lab Phase 1 layout ready.");
    }
    return { init };
  })();

  document.addEventListener("DOMContentLoaded", () => {
    if (typeof KMeansApp !== "undefined" && KMeansApp.init) {
      KMeansApp.init();
    }
  });
</script>
</body>
</html>
